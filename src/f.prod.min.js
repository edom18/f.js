(function(o,k,m,p){function n(e,a){return r.hasOwnProperty.call(e,a)}function g(e){return q.call(e)==="[object Function]"}function i(e){return q.call(e)==="[object String]"}function a(e){return q.call(e)==="[object Number]"}function b(e){return e===null}function d(e){return e===p}function l(e){for(var a=s.slice.call(arguments,1),c=a.length,b=0,d,g;b<c;b++)for(g in d=a[b],d)e[g]=a[b][g];return e}function h(e){return e.replace(/\\\\/g,"\\").replace(/\\'/g,"'")}function j(e){var a=[],c,b={isResolved:function(){return!a},
done:function(e){g(e)&&(a?a.push(e):e(c));return this},resolve:function(e){if(a){var b=a,d=0,g=b.length;c=e;for(a=null;d<g;d++)b[d](e)}}};g(e)&&e(b);return b}function t(e){var a=new j,c=new j,b={resolve:function(){if(c.isResolved())return false;a.resolve.apply(null,arguments)},reject:function(){if(a.isResolved())return false;c.resolve.apply(null,arguments)},done:function(){a.done.apply(null,arguments);return this},fail:function(){c.done.apply(null,arguments);return this}};g(e)&&e(b);return b}var r=
Object.prototype,s=Array.prototype,v=s.slice,q=r.toString;if(typeof Object.create!=="function")Object.create=function(e){function a(){}a.prototype=e;return new a};var c={utils:{},events:{},Model:{},View:{}},u=Array.isArray||function(e){return q.call(e)==="[object Array]"};c.utils.Throttle=c.Throttle=function(e){var a,c;return{exec:function(b){var d=+new Date;if(!g(b))return false;c?(clearTimeout(a),d-c>e?(b(),c=d):a=setTimeout(function(){b();a=null;c=d},e)):(b(),c=d)}}};c.utils.Deferred=c.Deferred=
t;c.utils.when=c.when=function(e){function a(){--d||c.resolve()}for(var c=new t,b=e.length,d=b;b--;)e[b].done(a);return c};c.utils.makeArr=c.makeArr=function(a){return v.call(a)};c.utils.bind=c.bind=function(a,c){return function(){a.apply(c,arguments)}};c.utils.extend=c.extend=function(a,c){var b,d=function(){};b=function(a,e,c){var b;b=e&&n(e,"constructor")?e.constructor:function(){a.apply(this,arguments)};l(b,a);d.prototype=a.prototype;b.prototype=new d;e&&l(b.prototype,e);c&&l(b,c);b.prototype.constructor=
b;b.__super__=a.prototype;return b}(this,a,c);b.extend=this.extend;return b};c.utils.copyClone=c.copyClone=l;c.utils.isFunction=c.isFunction=g;c.utils.isString=c.isString=i;c.utils.isNumber=c.isNumber=a;c.utils.isArray=c.isArray=u;c.utils.isNull=c.isNull=b;c.utils.isUndefined=c.isUndefined=d;c.utils.isEmpty=c.isEmpty=function(e){var c;if(g(e))return false;else if(a(e))return false;else if(u(e)||i(e))return e.length===0;else if(b(e))return true;else if(d(e))return true;for(c in e)if(n(e,c))return false;
return true};c.utils.hasProp=c.hasProp=n;c.utils.template=c.template=function(a,b,d){var g,l,i,j;d||(d={});i=/<%([\s\S]+?)%>/g;g=/<%=([\s\S]+?)%>/g;l=/<%-([\s\S]+?)%>/g;a=["var __f = [];",d.throughErr?"try {":"","with (obj || {}) {__f.push('",function(a){a=a.replace(/\\/g,"\\\\");a=a.replace(/\'/g,"\\'");a=a.replace(g||noMatch,function(a,b){return"', f.utils.entity("+h(b)+"), '"});a=a.replace(l||noMatch,function(a,b){return"', "+h(b)+", '"});a=a.replace(i||noMatch,function(a,b){return"'); "+h(b).replace(/[\r\n\t]/g,
" ")+"; __f.push('"});a=a.replace(/\n/g,"\\n");a=a.replace(/\r/g,"\\r");return a=a.replace(/\t/g,"\\t")}(a),"');}",d.throughErr?"} catch (e) {}":"",'return __f.join("");'].join("");j=new Function("obj","f",a);return b?j(b,c):function(a){return j.call(this,a,c)}};c.utils.getParams=function(a){var b={},c=0,d,a=a.split("&");for(d=a.length;c<d;c++)tmp2=a[c].split("="),b[tmp2[0]]=tmp2[1];return b};c.utils.entity=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,
"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};c.utils.unentity=function(a){return(""+a).replace(/&amp;/g,"&").replace(/&#x26;/g,"&").replace(/&#38;/g,"&").replace(/&lt;/g,"<").replace(/&#x3c;/g,"<").replace(/&#60;/g,"<").replace(/&gt;/g,">").replace(/&#x3e;/g,">").replace(/&#62;/g,">").replace(/&quout;/g,'"').replace(/&#x22;/g,'"').replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")};c.utils.unescape=h;m.f=c})(window,document,window);
(function(o){function k(){}k.prototype=function(){function m(g,i){if(!g)throw"INVALID EVENT TYPE "+g;var a=this.handlers||(this.handlers={}),b=[].concat(a[g]||[]),d=i||{},l,h,j;d.type||(d.type=g);for(h=0,l=b.length;h<l;++h)(j=b[h][0])&&j.call(b[h][1]||this,this,d);b=a["*"]||[];for(h=0,l=b.length;h<l;++h)(j=b[h][0])&&j.call(b[h][1]||this,this,d)}function k(g,i,a){if(!g)throw"addEventListener:INVALID EVENT TYPE "+g+" "+i;var b=this.handlers||(this.handlers={});(b[g]||(b[g]=[])).push([i,a])}function n(g,
i){if(!g)throw"removeEventListener:INVALID EVENT TYPE "+g+" "+fn;for(var a=(this.handlers||(this.handlers={}))[g]||[],b=a.length;b;)a[--b][0]===i&&a.splice(b,1)}return{dispatchEvent:m,trigger:m,pub:m,addEventListener:k,bind:k,sub:k,on:k,removeEventListener:n,unbind:n,off:n,one:function(g,i,a){function b(){d.removeEventListener(g,b,a);i.apply(a||d,arguments)}var d=this;this.addEventListener(g,b,a)}}}();o.events.EventDispatcher=k})(f,window,document,window);
(function(o){function k(a,b){this.init.apply(this,arguments)}function m(a,b){this.init.apply(this,arguments)}var p=0,n=o.events.EventDispatcher,g=o.utils,i=g.copyClone,g=g.extend;k.fn=k.prototype;i(k.prototype,n.prototype,{init:function(a,b){var d=$.isPlainObject(a)?a:{};this.id=d.id?d.id:"id"+ ++p;this.defaults&&i(d,this.defaults);this.set(d,{silent:true});this._previousAttributes=i({},this.attributes);$.isFunction(this.initialize)&&this.initialize.apply(this,arguments)},hasChanged:function(){return!isEmpty(this._changed)},
change:function(a){var b;a||(a={});if(this._changing||!this.hasChanged())return false;this._changing=true;if(!a.silent)for(b in this.trigger("change",this._changed),this._changed)a={},a[b]=this._changed[b],this.trigger("change:"+b,a);this._previousAttributes=i({},this.attributes);this._changed=null;delete this._changed;this._changing=false},set:function(a,b,d){var g,h,i=this.attributes||(this.attributes={});this._changed||(this._changed={});$.isPlainObject(a)?(h=a,d=b):(h={},h[a]=b);for(g in h)i[g]!==
h[g]&&(i[g]=h[g],this._changed[g]=h[g]);this.hasChanged()&&this.change(d)},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return i({},this._previousAttributes)},get:function(a){return this.attributes[a]}});m.fn=m.prototype;i(m.prototype,n.prototype,{tagName:"div",className:"",init:function(a,b){var d;d=$.isPlainObject(a)?a:{};var g,h,j;this.id=d.id?d.id:"id"+ ++p;this.events||(this.events=$.isPlainObject(d.events)?
d.events:{});i(this,d);this.el?this.setElement(d.el,false):(d=document.createElement(this.tagName),$(d).addClass(this.className),this.setElement(d,false));for(h in this.events)g=h.match(/^(\S+)\s*(.*)$/),d=g[1],g=g[2],j=this.events[h],$.isFunction(j)||(j=this[this.events[h]]),this.$el.delegate(g,d,$.proxy(j,this));$.isFunction(this.initialize)&&this.initialize.apply(this,arguments)},initialize:function(){},$:function(a){return this.$el.find(a)},setElement:function(a){this.$el=$(a);this.el=this.$el[0];
return this},render:function(){return this}});k.extend=m.extend=g;o.Model=k;o.View=m})(f,window,document,window);
