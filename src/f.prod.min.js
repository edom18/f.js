(function(o,k,m,p){function n(g,a){return j.hasOwnProperty.call(g,a)}function d(g){return q.call(g)==="[object Function]"}function i(g){return q.call(g)==="[object String]"}function a(g){return q.call(g)==="[object Number]"}function c(g){return g===null}function b(g){return g===p}function l(g){for(var a=s.slice.call(arguments,1),c=a.length,b=0,h,e;b<c;b++)for(e in h=a[b],h)g[e]=a[b][e];return g}function e(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")}var j=Object.prototype,s=Array.prototype,
q=j.toString;if(typeof Object.create!=="function")Object.create=function(a){function b(){}b.prototype=a;return new b};var h={utils:{},events:{},Model:{},View:{}},r=Array.isArray||function(a){return q.call(a)==="[object Array]"};h.utils.extend=h.extend=function(a,b){var c,e=function(){};c=function(a,b,c){var g;g=b&&n(b,"constructor")?b.constructor:function(){a.apply(this,arguments)};l(g,a);e.prototype=a.prototype;g.prototype=new e;b&&l(g.prototype,b);c&&l(g,c);g.prototype.constructor=g;g.__super__=
a.prototype;return g}(this,a,b);c.extend=this.extend;return c};h.utils.copyClone=h.copyClone=l;h.utils.isFunction=h.isFunction=d;h.utils.isString=h.isString=i;h.utils.isNumber=h.isNumber=a;h.utils.isArray=h.isArray=r;h.utils.isNull=h.isNull=c;h.utils.isUndefined=h.isUndefined=b;h.utils.isEmpty=h.isEmpty=function(g){var e;if(d(g))return false;else if(a(g))return false;else if(r(g)||i(g))return g.length===0;else if(c(g))return true;else if(b(g))return true;for(e in g)if(n(g,e))return false;return true};
h.utils.hasProp=h.hasProp=n;h.utils.template=h.template=function(a,b,c){var d,l,i,j;c||(c={});i=/<%([\s\S]+?)%>/g;d=/<%=([\s\S]+?)%>/g;l=/<%-([\s\S]+?)%>/g;a=["var __f = [];",c.throughErr?"try {":"","with (obj || {}) {__f.push('",function(a){a=a.replace(/\\/g,"\\\\");a=a.replace(/\'/g,"\\'");a=a.replace(d||noMatch,function(a,b){return"', f.utils.entity("+e(b)+"), '"});a=a.replace(l||noMatch,function(a,b){return"', "+e(b)+", '"});a=a.replace(i||noMatch,function(a,b){return"'); "+e(b).replace(/[\r\n\t]/g,
" ")+"; __f.push('"});a=a.replace(/\n/g,"\\n");a=a.replace(/\r/g,"\\r");return a=a.replace(/\t/g,"\\t")}(a),"');}",c.throughErr?"} catch (e) {}":"",'return __f.join("");'].join("");j=new Function("obj","f",a);return b?j(b,h):function(a){return j.call(this,a,h)}};h.utils.getParams=function(a){var b={},c=0,e,a=a.split("&");for(e=a.length;c<e;c++)tmp2=a[c].split("="),b[tmp2[0]]=tmp2[1];return b};h.utils.entity=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,
"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};h.utils.unentity=function(a){return(""+a).replace(/&amp;/g,"&").replace(/&#x26;/g,"&").replace(/&#38;/g,"&").replace(/&lt;/g,"<").replace(/&#x3c;/g,"<").replace(/&#60;/g,"<").replace(/&gt;/g,">").replace(/&#x3e;/g,">").replace(/&#62;/g,">").replace(/&quout;/g,'"').replace(/&#x22;/g,'"').replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")};h.utils.unescape=e;m.f=h})(window,document,window);
(function(o){function k(){}k.prototype=function(){function m(d,i){if(!d)throw"INVALID EVENT TYPE "+d;var a=this.handlers||(this.handlers={}),c=[].concat(a[d]||[]),b=i||{},l,e,j;b.type||(b.type=d);for(e=0,l=c.length;e<l;++e)(j=c[e][0])&&j.call(c[e][1]||this,this,b);c=a["*"]||[];for(e=0,l=c.length;e<l;++e)(j=c[e][0])&&j.call(c[e][1]||this,this,b)}function k(d,i,a){if(!d)throw"addEventListener:INVALID EVENT TYPE "+d+" "+i;var c=this.handlers||(this.handlers={});(c[d]||(c[d]=[])).push([i,a])}function n(d,
i){if(!d)throw"removeEventListener:INVALID EVENT TYPE "+d+" "+fn;for(var a=(this.handlers||(this.handlers={}))[d]||[],c=a.length;c;)a[--c][0]===i&&a.splice(c,1)}return{dispatchEvent:m,trigger:m,pub:m,addEventListener:k,bind:k,sub:k,on:k,removeEventListener:n,unbind:n,off:n,one:function(d,i,a){function c(){b.removeEventListener(d,c,a);i.apply(a||b,arguments)}var b=this;this.addEventListener(d,c,a)}}}();o.events.EventDispatcher=k})(f,window,document,window);
(function(o){function k(a,c){this.init.apply(this,arguments)}function m(a,c){this.init.apply(this,arguments)}var p=0,n=o.events.EventDispatcher,d=o.utils,i=d.copyClone,d=d.extend;k.fn=k.prototype;i(k.prototype,n.prototype,{init:function(a,c){var b=$.isPlainObject(a)?a:{};this.id=b.id?b.id:"id"+ ++p;this.defaults&&i(b,this.defaults);this.set(b,{silent:true});this._previousAttributes=i({},this.attributes);$.isFunction(this.initialize)&&this.initialize.apply(this,arguments)},hasChanged:function(){return!isEmpty(this._changed)},
change:function(a){var c;a||(a={});if(this._changing||!this.hasChanged())return false;this._changing=true;if(!a.silent)for(c in this.trigger("change",this._changed),this._changed)a={},a[c]=this._changed[c],this.trigger("change:"+c,a);this._previousAttributes=i({},this.attributes);this._changed=null;delete this._changed;this._changing=false},set:function(a,c,b){var d,e,i=this.attributes||(this.attributes={});this._changed||(this._changed={});$.isPlainObject(a)?(e=a,b=c):(e={},e[a]=c);for(d in e)i[d]!==
e[d]&&(i[d]=e[d],this._changed[d]=e[d]);this.hasChanged()&&this.change(b)},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return i({},this._previousAttributes)},get:function(a){return this.attributes[a]}});m.fn=m.prototype;i(m.prototype,n.prototype,{tagName:"div",className:"",init:function(a,c){var b;b=$.isPlainObject(a)?a:{};var d,e,j;this.id=b.id?b.id:"id"+ ++p;this.events||(this.events=$.isPlainObject(b.events)?
b.events:{});i(this,b);this.el?this.setElement(b.el,false):(b=document.createElement(this.tagName),$(b).addClass(this.className),this.setElement(b,false));for(e in this.events)d=e.match(/^(\S+)\s*(.*)$/),b=d[1],d=d[2],j=this.events[e],$.isFunction(j)||(j=this[this.events[e]]),this.$el.delegate(d,b,$.proxy(j,this));$.isFunction(this.initialize)&&this.initialize.apply(this,arguments)},initialize:function(){},$:function(a){return this.$el.find(a)},setElement:function(a){this.$el=$(a);this.el=this.$el[0];
return this},render:function(){return this}});k.extend=m.extend=d;o.Model=k;o.View=m})(f,window,document,window);
